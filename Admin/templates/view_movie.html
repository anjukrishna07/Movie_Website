{% extends 'admin_home.html' %}
{% block first %}

<p class="post-category">Latest Movies</p>

<div class="container">
  <div class="row gy-4"> 

    {% for i in details %}
    <div class="col-lg-6 col-md-6 col-sm-12 d-flex justify-content-center" 
         style="margin-bottom: 20px;"> 
      <article style="width: 90%; max-width: 400px; background: white; padding: 15px; 
                      border-radius: 10px; box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1); 
                      text-align: center;">
        <div class="post-img">
          {% if i.image %}
          <img src="{{ i.image.url }}" alt="Movie Image" class="img-fluid" 
               style="width: 100%; height: 250px; object-fit: contain; border-radius: 10px; background: black;">
          {% else %}
          <p>No image available for this movie.</p>
          {% endif %}
        </div>

        <h2 class="title">Movie Name: {{ i.name }}</h2>
        <h4 class="title">Release Date: {{ i.date }}</h4>

        <div>
          {% if i.video %}
          <video controls style="width: 100%; height: 250px; object-fit: contain; border-radius: 10px; background: black;">
            <source src="{{ i.video.url }}" type="video/mp4">
            Your browser does not support the video tag.
          </video>
          {% else %}
          <p>No video available for this movie.</p>
          {% endif %}
        </div>

        <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; margin-top: 10px;">
          <a href="{% url 'view' i.id %}" class="btn btn-primary">🔍 View Details</a>
          <a href="{% url 'viewcomments' i.id %}" class="btn btn-warning">💬 View Comments</a>
          <a href="{% url 'viewreactions' i.id %}" class="btn btn-info">👍👎 View Reactions</a>
          <a href="{% url 'edit_detail' i.id %}" class="btn btn-success">✏️ Edit</a>
          <a href="{% url 'delete_details' i.id %}" class="btn btn-danger">🗑️ Delete</a>
        </div>
        
      </article>
    </div>
    {% endfor %}

  </div>
</div>

{% endblock %}
